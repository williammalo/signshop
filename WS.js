"use strict";var WS={};(function(){var noop=function noop(){};var fastEvery=function fastEvery(collection,callback){var result=true;var index=-1,length=collection?collection.length:0;while(++index<length){if(!(result=!!callback(collection[index],index,collection))){break;}}return result;};var match=function match(target,keywordList){return fastEvery(keywordList,function(a){return a.test(target);});};var limitedFilter=function limitedFilter(array,callback,limit){var result=[];var index=-1,length=array.length,value,resultLength=0;while(++index<length){value=array[index];if(resultLength<limit&&callback(value,index,array)){result[resultLength]=value;resultLength+=1;}}return result;};var toCaseInsensitive=function toCaseInsensitive(a){return RegExp(a,"i");};WS.idealArea=15;WS.area=15;WS.inputElement=dom.query("#ws-input");WS.containerElement=dom.query("#ws-container");WS.getResults=function(keyword,reverse){if(keyword==="")return WS.data.slice(0,WS.area);var keywordList=keyword.split(" ").map(toCaseInsensitive);return limitedFilter(WS.data,function(i){return match(i.searchText,keywordList)^reverse;},WS.area);};WS.search=function(){var args=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var _args$keyword=args.keyword,keyword=_args$keyword===undefined?WS.inputElement.value:_args$keyword,reverse=args.reverse,_WS$search=WS.search,_WS$search$onappendno=_WS$search.onappendnode,onappendnode=_WS$search$onappendno===undefined?noop:_WS$search$onappendno,_WS$search$onfragment=_WS$search.onfragmentpopulated,onfragmentpopulated=_WS$search$onfragment===undefined?noop:_WS$search$onfragment,array=WS.getResults(keyword,reverse),fragment=dom.fragment();array.forEach(function(i){onappendnode(i);fragment.append(i.node);});onfragmentpopulated(fragment,array);WS.containerElement.clear().append(fragment);};WS.search.on=function(eventString,callback){WS.search["on"+eventString]=callback;};WS.showAll=function(){WS.area=WS.data.length;WS.search();WS.area=WS.idealArea;return false;};WS.inputElement.on("input",WS.search);})();